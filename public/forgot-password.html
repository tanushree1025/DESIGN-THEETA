<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Design Theeta â€” Forgot Password</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --brand-purple: #6E44FF;
      --brand-orange: #FF7A00;
      --text: #EDEDED;
      --muted: #B8B8B8;
      --bg: #0B0B0F;
      --bg-image: url("bg.png");
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans"; color: var(--text); background: url("bg.png") center/cover no-repeat fixed;}
    .wrap{ position: relative; z-index: 1; min-height: 100%; display: grid; place-items: center; padding: 6vh 4vw; }
    .card{ width: 100%; max-width: 480px; background: rgba(20,20,26,.55); border: 1px solid rgba(255,255,255,.16); border-radius: 22px; backdrop-filter: blur(18px) saturate(1.15); padding: clamp(20px, 6vw, 42px); box-shadow: 0 20px 60px rgba(0,0,0,.45);}
    .brand{ display:flex; gap:14px; align-items:center; margin-bottom: 22px; flex-wrap: wrap; }
    .brand img { width: 52px; height: 52px; border-radius: 12px; object-fit: contain; background: white; padding: 4px; }
    .brand h1{ margin:0; font-weight: 800; font-size: clamp(20px, 4vw, 28px); }
    .tag { margin: -4px 0 12px 0; text-align: center; color: var(--muted); font-weight: 500; font-size: clamp(12px, 2vw, 14px); }
    form{ display:grid; gap:14px; margin-top: 18px; }
    .field input{ width: 100%; padding: 14px 20px; border-radius: 14px; border: 1px solid rgba(255,255,255,.16); background: rgba(10,10,14,.55); color: var(--text); font-size: 16px; }
    .cta{ margin-top: 8px; padding: 14px 18px; border-radius: 14px; border: 0; color: white; font-weight: 700; font-size: 16px; background-image: linear-gradient(90deg, var(--brand-purple), var(--brand-orange)); transition: transform .2s ease; cursor:pointer;}
    .cta:hover { transform: scale(1.05); }
    .extra-links { margin-top: 14px; text-align: center; font-size: 14px; color: var(--muted); }
    .extra-links a { color: var(--brand-purple); text-decoration: none; font-weight: 600; }
    .extra-links a:hover { text-decoration: underline; }
    .site-header { position: absolute; top: 20px; left: 20px; z-index: 1000; }
    .site-header img { height: 100px; width: auto; }
    @media (max-width: 600px) { .card { padding: 20px; } .brand { flex-direction: column; text-align: center; } .tag { margin: 6px 0 16px 0; text-align: center; } .site-header img { height: 70px; } }
  </style>
</head>
<body>
  <header class="site-header">
    <img src="logo2.jpg" alt="The Design Theeta Logo">
  </header>

  <main class="wrap">
    <section class="card" role="dialog" aria-label="Forgot Password form">
      <div class="brand">
        <img src="logo.jpg.jpg" alt="Design Theeta Logo">
        <h1>THE DESIGN THEETA</h1>
      </div>
      <p class="tag">Reset Your Password</p>

      <form id="forgotPasswordForm">
        <label class="field">
          <input id="email" type="email" placeholder="Enter your email" required />
        </label>
        <button class="cta" type="submit">Send Reset Link</button>
        <p id="msg" style="color:#FF5555; margin-top:10px;"></p>
        <div class="extra-links">
          <p>Remembered your password? <a href="login.html">Login</a></p>
        </div>
      </form>
    </section>
  </main>

  <script>
    const forgotForm = document.getElementById("forgotPasswordForm");
    const msg = document.getElementById("msg");

    forgotForm.addEventListener("submit", async e => {
      e.preventDefault();
      msg.textContent = "";

      const email = document.getElementById("email").value;

      try {
        const res = await fetch("http://localhost:5000/api/auth/forgot-password", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email })
        });
        const data = await res.json();

        if(!res.ok) {
          msg.textContent = data.msg || "Failed to send reset link";
          return;
        }

        msg.style.color = "#00FFAA";
        msg.textContent = "Password reset link sent to your email!";
        forgotForm.reset();

      } catch(err) {
        console.error(err);
        msg.textContent = "Server error. Try again.";
      }
    });
  </script>
</body>
</html>
